---
title: Svelte로 블로그 만들기
tag: Svelte
date: 2023-01-29 14:01:55
published: false
---


- React, Vue와 유사하지만 스벨트는 런타임 시 애플리케이션 코드를 해석하는 대신 빌드 시 앱을 js로 변환한다. -> 프레임워크 추상화의 성능 비용을 지불하지 않으며 앱이 처음 로드될 때 패널티 발생 x
- 스벨트에서 애플리케이션은 하나 이상의 구성 요소로 구성됨


## 스벨트란

사용자가 웹 페이지를 클릭하면 브라우저는 서버에서 해당 페이지에 대한 html문서를 받는다. 
html 문서를 로드하기 전에 document 객체를 먼저 만든다. 그리고 document를 뿌리로 하는 dom tree를 만들어 클라이언트에서 요청한 페이지를 표시한다. 

Dom은 html, xml 문서의 인터페이스 역할을 하므로 js 및 기타 스크립팅 언어가 html 문서의 내용에 액세스하고 조작하는 등 프로그래밍 방식으로 상호 작용할 수 있게 만든다.

Dom작업은 매우 가벼운 작업이다. 하지만 다시 렌더링을 트리거하여 리렌더링시 비용이 클 수 있다. 실제 돔의 요소를 업데이트하면 돔은 해당 요소와 자식을 모두 리렌더링한다. 
리렌더링시 최적화가 필요한데 그 방법으로 리액트에서는 가상돔을 이용한다. 

가상돔은 object 형태로된 돔보다 더 가벼운 돔의 복제본이다. 노드 콘솔 찍어보기
가상돔은 브라우저 메모리에 저장할 수 있다. 리액트에서는 요소를 업데이트하면 직전의 가상돔 스냅샷과 업데이트된 가상돔 스냅샷을 비교한 후 업데이트된 요소만 업데이트한다. 리액트에서는 업데이트되면 새로운 가상돔 트리를 생성한 후 reconciliation이라는 디핑 알고리즘을 사용하여 이전 가상돔과 비교하여 변경 사항을 확인한다. 

업데이트를 알리기 위해서 리액트에서는 hook을 사용한다. 리액트를 사용하기 위해서는 리액트의 생명주기를 필수로 알아야한다. class와 함수형 컴포넌트의 생명주기는 비슷하지만 조금 차이점이 있다. 함수형과 class 모두 아는 게 도움이 된다. 


가상돔은 실제돔 작업보다 더 빠르지 않다. 가상돔은 개발자로부터 돔 조작을 추상화하는 메커니즘을 제공해주기 때문에 예측 가능한 코드를 작성할 수 있도록 도움을 준다. 

리액트나 뷰는 런타임에 실행된다. 사용하려면 이러한 프로세스를 위해 라이브러리를 로드해야한다. 
스벨트는 이러한 과정을 없애버렸다. 가상돔을 사용하지 않아서 로드할 라이브러리가 없고, 컴파일러이기 때문에 로드할 때 실행가능한 js를 만들어준다. 



## 해야할 것

- [x] 1. md highlight 추가ㅜㅜ
- [ ] 4. tailwind 정리해보기
- [ ] 1. css
- [ ] 1. 태그 정리, 태그 라우트 만들기
- [ ] 1. 포스트 카운트 10개 -> 20개 (10개씩)
- 라우트 이동될 때 포스트 카운트 초기화
- [ ] 5. 린트에 tailwind 추가
- [ ] 6. 상단 메뉴에 project, note 추가하기
- [ ] 7. 댓글

## vite glob

- glob 이용해 여러 모듈을 한 번에 가져옴 (fs쓰지 않고 모듈로 해결)

## promise 에러처리

- 어떤 부분에서 에러가 났는지 잡기 힘듬

### Promise.all

순회 가능한 객체에 주어진 모든 프로미스가 이행한 후, 혹은 프로미스가 주어지지 않았을 때 이행하는 Promise를 반환한다. 주어진 프로미스 중 하나가 거부하는 경우, 첫 번째로 거절한 프로미스의 이유를 사용해 자신도 거부한다.

- 여러 프로미스의 결과를 집계할 때 사용, 일반적으로 다음 코드를 계속 실행하기 전에 서로 연관된 비동기 작업 여러 개가 모두 이행되어야 하는 경우에 사용한다.
- Promise.all은 배열 내 모든 값의 이행(또는 첫 번째 거부)를 기다림 (실패 우선성)
- 하나라도 거부 당했을 때 즉시 거부하고 싶을 때 적합하다.

### Promise.allSettled

주어진 모든 프로미스를 이행하거나 거부한 후, 각 프로미스에 대한 결과를 나타내는 객체 배열을 반환한다.

- 일반적으로 서로의 성공 여부에 관련 없는 여러 비동기 작업을 수행해야 하거나, 항상 각 프로미스의 실행 결과를 알고 싶을 때 사용한다.

## mdsvex 버그

- 개행 중요함 html 태그 안에서 한 칸 띄우고 마크다운 쓰고나서도 한 칸 띄워야 함
- `<>` 괄호 입력하면 오류 남 (열고 닫힌 괄호) , `{}` 이것두

## 전처리

https://kit.svelte.dev/docs/integrations

## tailwind

https://tailwindcss.com/docs/guides/sveltekit

### postcss?

css 컴파일러인듯

theme 방법 찾아보기

```js
<style lang="postcss">
  :global(html) {
    background-color: theme(colors.gray.100);
  }
</style>
```

### tailwind typhography

https://tailwindcss.com/docs/typography-plugin

## 신기

```js
{#if slug}
  <h3 class="heading" class:large={!slug} {id}>
    <a {href}>
      {title}
    </a>
  </h3>
{:else}
  <h2 class="heading" class:large={!slug} {id}>
    <a {href}>
      {title}
    </a>
  </h2>
{/if}
```
