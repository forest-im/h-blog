export const metadata = {
  title: '함수형 프로그래밍 - 계층형 설계에 대해',
  tags: ['#함수형프로그래밍', '#쏙쏙들어오는함수형코딩'],
  date: '2023-08-01',
  description: '함수형 프로그래밍이 무엇인지, 불변성과 계층형 설계에 대해 정리한 글입니다.',
}

<img src="https://contents.kyobobook.co.kr/sih/fit-in/458x0/pdt/9791191600759.jpg" alt="book" />
쏙쏙 들어오는 함수형 코딩을 읽고 정리한 글입니다.

## 함수형 프로그래밍이란?

1. 수학 함수를 사용하고 부수 효과를 피하는 것이 특징인 프로그래밍 패러다임
2. 부수 효과 없이 순수 함수만 사용하는 프로그래밍 스타일

## 액션과 계산, 데이터 구분하기

1. 액션
2. 계산
3. 데이터

액션은 호출하는 시점과 횟수에 의존한다.
많은 함수형 프로그래밍 기술과 개념은 코드를 애견과 계산, 데이터로 구분하는 것으로부터 시작한다.
계산: 실행 가능하나 데이터는 그렇지 않다.
데이터: 데이터는 정적이고 보이는 그대로이다. 데이터는 이벤트에 대한 사실이다.
계산은 실행하기 전까지 어떻게 동작할 지 알 수 없다.

- 일반적으로 액션 보다는 계산이 쓰기 쉽고 계산 보다는 데이터가 쓰기 쉽다.
- 함수형 프로그래머는 코드를 액션과 계산, 데이터로 구분한다. 핵심 개념.
- 액션은 실행 시점과 횟수에 의존하기 때문에 여전히 문제가 되지만, 코드 전체에 영향을 주지 않도록 격리시키면 된다.
  코드의 많은 부분을 액션에서 계산으로 옮기면 결과적으로 액션도 다루기 쉬워진다.

## 계산

- 계산은 반드시 입출력으로 이루어져야 하며, 같은 입력에 대해서는 항상 같은 출력값을 내놓아야 한다. 계산이 여러 번 실행되어도 외부 세계에 영향을 주지 않아야 한다.
- 계산 함수에 하나라도 액션이 존재한다면 그 함수는 액션이 된다.

## 암묵적 입력과 출력

- 함수 내의 전역 변수 사용은 암묵적 입력이라고 할 수 있다.
- 암묵적 입력과 출력은 인자와 리턴값으로 바꿔 없애는 것이 좋다.

## 불변성

JavaScript는 기본적으로 pass by reference 방식을 사용한다. 이것을 방지하기 위해 객체나 배열을 pass by value 형태로 변경하는 방식을 알아야 한다.

### Copy on write 원칙 세 단계

copy on write는 세 단계로 되어 있다. 각 단계를 구현하면 copy on write로 동작한다.

1. 복사본 만들기
2. 복사본 변경하기
3. 복사본 리턴하기

- copy on write는 **쓰기를 읽기로 바꾼다.**

#### Copy on write로 쓰기를 읽기로 바꾸기
